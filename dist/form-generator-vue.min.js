var FormGeneratorVue=function(n){"use strict";function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function e(n){return function(n){if(Array.isArray(n))return o(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||r(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(n,t){if(n){if("string"==typeof n)return o(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(n,t):void 0}}function o(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var i={isUndef:function(n){return void 0===n},isObjOnly:function(n){return i.isArr(n)?n.every((function(n){return i.isObj(n)&&!i.isArr(n)})):i.isObj(n)},isObj:function(n){return i.isArr(n)?n.every((function(n){return"object"===t(n)})):"object"===t(n)},isArr:function(n){return Array.isArray(n)},isFunc:function(n){return"function"==typeof n},isBool:function(n){return"boolean"==typeof n},isStr:function(n){return"string"==typeof n},throwError:function(n){throw new Error(n)},hasProperty:function(n,t){return i.isArr(n)?n.every((function(n){return n in t})):n in t},handleFunc:function(n,t){if(i.isFunc(n))return n(t)},handleFuncOrBool:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,e=Boolean(n);return i.isFunc(n)&&(e=n(t)),e},debounce:function(n){var t;return function(e,r){clearTimeout(t),t=setTimeout((function(){clearTimeout(t),n(r)}),e)}},logger:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.show,o=t.warn;if(r){var i,u;if(o)return void(u=console).warn.apply(u,e(n));(i=console).log.apply(i,e(n))}}},u="activeValidation";function l(n,t,e,r,o,i,u,l,a,s){"boolean"!=typeof u&&(a=l,l=u,u=!1);const c="function"==typeof e?e.options:e;let d;if(n&&n.render&&(c.render=n.render,c.staticRenderFns=n.staticRenderFns,c._compiled=!0,o&&(c.functional=!0)),r&&(c._scopeId=r),i?(d=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),t&&t.call(this,a(n)),n&&n._registeredComponents&&n._registeredComponents.add(i)},c._ssrRegister=d):t&&(d=u?function(n){t.call(this,s(n,this.$root.$options.shadowRoot))}:function(n){t.call(this,l(n))}),d)if(c.functional){const n=c.render;c.render=function(t,e){return d.call(e),n(t,e)}}else{const n=c.beforeCreate;c.beforeCreate=n?[].concat(n,d):[d]}return e}var a=l({},void 0,{mixins:[{props:{value:{type:Object,default:null,required:!1},schema:{type:Object,default:function(){return{}}}}}],emits:["input"],data:function(){return{models:function(n){var t={};return function n(e){var r;(null==e?void 0:e.model)&&(t[i.isArr(e)&&(null===(r=e.model)||void 0===r?void 0:r[0])||e.model]={value:"",error:""});(null==e?void 0:e.children)&&(null==e||e.children.forEach((function(t){return n(t)})))}(n),t}(this.schema)}},watch:{value:{handler:"watchValue",deep:!0},models:{handler:"watchModels",deep:!0,immediate:!0}},created:function(){var n=this;Object.keys(this.models).forEach((function(t){n.$watch("models.".concat(t),(function(){n.validateModel(t)}),{deep:!0})}))},mounted:function(){var n,t;(null==this||null===(n=this.schema)||void 0===n||null===(t=n.options)||void 0===t?void 0:t.onLoadValidation)&&this.validate()},methods:{watchValue:function(n){for(var t in n)this.models[t].value=null==n?void 0:n[t],this.models[t].error=null==n?void 0:n[t]},watchModels:function(){this.$emit("input",this.models)},resetValidation:function(){for(var n in this.models)this.models[n].error=""},reset:function(){for(var n in this.models)this.models[n].value="",this.models[n].value=""},canSetErr:function(n){return n&&!["boolean"].includes(t(n))||!n&&["string","boolean"].includes(t(n))},setError:function(n,t){this.models[n].error=this.canSetErr(t)?t:""},runModelRules:function(n,t){var e;if(i.isArr(t)){var o,u=function(n,t){var e;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=r(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var o=0,i=function(){};return{s:i,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,l=!0,a=!1;return{s:function(){e=n[Symbol.iterator]()},n:function(){var n=e.next();return l=n.done,n},e:function(n){a=!0,u=n},f:function(){try{l||null==e.return||e.return()}finally{if(a)throw u}}}}(t);try{for(u.s();!(o=u.n()).done;){var l=o.value;if(e=l,i.isFunc(l)&&(e=l(n)),this.canSetErr(e))break}}catch(e){u.e(e)}finally{u.f()}}return i.isFunc(t)&&(e=t(n)),e},validateModel:function(n,t){var e,r,o,i,l,a=u in conf?null===(e=conf)||void 0===e?void 0:e[u]:null==this||null===(r=this.schema)||void 0===r||null===(o=r.options)||void 0===o?void 0:o.activeValidation,s=(t||a)&&this.runModelRules(this.models[n].value,null==this||null===(i=this.schema)||void 0===i||null===(l=i.rules)||void 0===l?void 0:l[n]);this.setError(n,s)},validate:function(){for(var n in this.models)this.validateModel(n,!0)}},render:function(n){var t;var e=function t(e){return e&&i.isArr(e)?e.map((function(e){var r=e.tag,o=e.data,i=e.children;return n(r,o,t(i))})):[]}(null==this||null===(t=this.schema)||void 0===t?void 0:t.fields);return n("form",{},e)}},void 0,void 0,void 0,!1,void 0,void 0,void 0),s=function(n){s.installed||(s.installed=!0,n.component("FormGeneratorVue",a))},c={install:s},d=null;return"undefined"!=typeof window?d=window.Vue:"undefined"!=typeof global&&(d=global.Vue),d&&d.use(c),a.install=s,n.default=a,n}({});