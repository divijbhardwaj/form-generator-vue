var FormGeneratorVue=function(n){"use strict";function e(n){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function r(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function t(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function o(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?t(Object(o),!0).forEach((function(e){r(n,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))}))}return n}function i(n){return function(n){if(Array.isArray(n))return u(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||l(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(n,e){if(n){if("string"==typeof n)return u(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(n,e):void 0}}function u(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function s(n,e){var r;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(r=l(n))||e&&n&&"number"==typeof n.length){r&&(n=r);var t=0,o=function(){};return{s:o,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,s=!1;return{s:function(){r=n[Symbol.iterator]()},n:function(){var n=r.next();return u=n.done,n},e:function(n){s=!0,i=n},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw i}}}}function a(n,e,r,t,o,i,l,u,s,a){"boolean"!=typeof l&&(s=u,u=l,l=!1);const d="function"==typeof r?r.options:r;let f;if(n&&n.render&&(d.render=n.render,d.staticRenderFns=n.staticRenderFns,d._compiled=!0,o&&(d.functional=!0)),t&&(d._scopeId=t),i?(f=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),e&&e.call(this,s(n)),n&&n._registeredComponents&&n._registeredComponents.add(i)},d._ssrRegister=f):e&&(f=l?function(n){e.call(this,a(n,this.$root.$options.shadowRoot))}:function(n){e.call(this,u(n))}),f)if(d.functional){const n=d.render;d.render=function(e,r){return f.call(r),n(e,r)}}else{const n=d.beforeCreate;d.beforeCreate=n?[].concat(n,f):[f]}return r}var d=a({render:function(){var n=this.$createElement;return(this._self._c||n)("div",[this._t("default")],2)},staticRenderFns:[]},void 0,{},void 0,!1,void 0,!1,void 0,void 0,void 0),f={isUndef:function(n){return void 0===n},isObjNotArr:function(n){return f.isArr(n)?n.every((function(n){return f.isObj(n)&&!f.isArr(n)})):f.isObj(n)},isObj:function(n){return f.isArr(n)?n.every((function(n){return"object"===e(n)})):"object"===e(n)},isArr:function(n){return Array.isArray(n)},isFunc:function(n){return"function"==typeof n},isBool:function(n){return"boolean"==typeof n},isStr:function(n){return"string"==typeof n},throwError:function(n){throw new Error(n)},hasProperty:function(n,e){return f.isArr(n)?n.every((function(n){return n in e})):n in e},handleFunc:function(n,e){if(f.isFunc(n))return n(e)},handleFuncOrBool:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=Boolean(n);return f.isFunc(n)&&(r=n(e)),r},debounce:function(n){var e;return function(r,t){clearTimeout(e),e=setTimeout((function(){clearTimeout(e),n(t)}),r)}},logger:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.show,t=e.warn;if(r){var o,l;if(t)return void(l=console).warn.apply(l,i(n));(o=console).log.apply(o,i(n))}}},c=function(n){return n&&!["boolean"].includes(e(n))||!n&&["string","boolean"].includes(e(n))},v={form:"fgv-form",body:"fgv-body",row:"fgv-row",rowContainer:"fgv-row-container",colContainer:"fgv-col-container",col:"fgv-col"},h={header:"header",footer:"footer",beforeComponent:function(n){return"before-".concat(n)},afterComponent:function(n){return"after-".concat(n)},beforeRow:"before-row",rowStart:"row-start",rowEnd:"row-end",afterRow:"after-row",beforeCol:"before-col",afterCol:"after-col"},m="fields",p="fields",y="errors",b="activeValidation",w="on",g={text:"text",number:"number"},O={required:"required",disabled:"disabled",hidden:"hidden"},j=a({},void 0,{components:{Body:d,RowContainer:d,Row:d,ColumnContainer:d,Column:d},mixins:[{props:{value:{type:Object,default:null,required:!1},schema:{type:Object,default:function(){return{}}}}}],emits:["input"],data:function(){var n,e,r=this,t=null===(n=this.value)||void 0===n?void 0:n.form,o={},i={},l=function(n){var e,t,l,u;o[n]=(null===(e=r.value)||void 0===e||null===(t=e[p])||void 0===t?void 0:t[n])||"",i[n]=(null===(l=r.value)||void 0===l||null===(u=l[y])||void 0===u?void 0:u[n])||""},u=s(this.schema[m]);try{for(u.s();!(e=u.n()).done;){var a=e.value;if(f.isArr(a)){var d,c=s(a);try{for(c.s();!(d=c.n()).done;){l(d.value.model)}}catch(n){c.e(n)}finally{c.f()}}else l(a.model)}}catch(n){u.e(n)}finally{u.f()}return{form:t,fields:o,errors:i}},computed:{SLOT:function(){return h},CLASS:function(){return v},UTILS:function(){return f},fieldsFlat:function(){var n,e={},r=s(this.schema[m]);try{for(r.s();!(n=r.n()).done;){var t=n.value;if(f.isArr(t)){var o,i=s(t);try{for(i.s();!(o=i.n()).done;){var l=o.value;e[l.model]=l}}catch(n){i.e(n)}finally{i.f()}}else e[t.model]=t}}catch(n){r.e(n)}finally{r.f()}return e}},watch:{value:{handler:function(){for(var n in null===(e=this.value)||void 0===e?void 0:e[p]){var e,r,t,o,i;this.fields[n]=null===(r=this.value)||void 0===r||null===(t=r[p])||void 0===t?void 0:t[n],this.errors[n]=null===(o=this.value)||void 0===o||null===(i=o[y])||void 0===i?void 0:i[n]}},deep:!0},form:{handler:"emitData",deep:!0,immediate:!0},fields:{handler:"emitData",deep:!0,immediate:!0},errors:{handler:"emitData",deep:!0,immediate:!0}},created:function(){var n=this,r=function(r){var t=n.getFieldConf(r);n.$watch("fields.".concat(r),(function(r,o){n.typeCoercion(t),r==o&&e(r)!==e(o)||n.validateField(t)}),{deep:!0})};for(var t in this.fields)r(t)},mounted:function(){var n,e;(null==this||null===(n=this.schema)||void 0===n||null===(e=n.options)||void 0===e?void 0:e.onLoadValidation)&&this.validate()},methods:{classes:function(n){var e=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n.reduce((function(n,r){var t,o;if(null==e||null===(t=e.schema)||void 0===t||null===(o=t.class)||void 0===o?void 0:o[r]){n.push.apply(n,i(e.schema.class[r]));var l=e.schema.class[r].filter((function(n){var r;return Object.keys(null==e||null===(r=e.schema)||void 0===r?void 0:r.class).includes(n)}));l.length&&n.push.apply(n,i(e.classes(l,!0)))}return n}),r?[]:i(n))},emitData:function(){var n,e,t,i,l,u=this,s=f.isStr(null==this||null===(n=this.schema)||void 0===n||null===(e=n.form)||void 0===e?void 0:e.model)?null==this||null===(t=this.schema)||void 0===t||null===(i=t.form)||void 0===i?void 0:i.model:void 0,a=!Object.keys(this.errors).find((function(n){return u.errors[n]&&!u.fieldHidden(u.fieldsFlat[n])}));this.$emit("input",o(o({},s?r({},s,this.form):{}),{},(r(l={valid:a},p,this.fields),r(l,y,this.errors),l)))},showRow:function(n){var e=this;return f.isArr(n)?n.length&&n.some((function(n){return e.showCol(n)})):this.showCol(n)},showCol:function(n){return this.componentName(n)&&!this.fieldHidden(n)},slotProps:function(n){return f.isArr(n)?n.map((function(n){return n.model})):[n.model]},componentProps:function(n){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.form,i=o({},null==n?void 0:n.props);t&&(i.is=(null==n||null===(e=n.props)||void 0===e?void 0:e.is)||"form");return i},resetValidation:function(){for(var n in this.errors)this.errors[n]=""},reset:function(){for(var n in this.fields)this.fields[n]="",this.errors[n]=""},setError:function(n,e){this.errors[n]=c(e)?e:""},typeCoercion:function(n){var e;if(this.fields[n.model]&&(null==n||null===(e=n.props)||void 0===e?void 0:e.type)===g.number){if(!Number.isNaN(this.fields[n.model]))return;this.fields[n.model]=Number(this.fields[n.model])}},componentEvents:function(n){var e,r=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.form,i=(null==n?void 0:n[w])||{};o&&(i.submit=(null==n||null===(e=n.on)||void 0===e?void 0:e.submit)||function(n){var e,t;null==n||n.preventDefault(),f.logger(["submit handler not present.\n"],{warn:!0,show:null==r||null===(e=r.schema)||void 0===e||null===(t=e.options)||void 0===t?void 0:t.logs})});return i},componentName:function(n){var e;return(null==n||null===(e=n.props)||void 0===e?void 0:e.is)||(null==n?void 0:n.tag)},getFieldConf:function(n){return this.fieldsFlat[n]},fieldHidden:function(n){var e;return!(!(null==n?void 0:n.props)||!(O.hidden in n.props))&&Boolean(null===(e=n.props)||void 0===e?void 0:e[O.hidden])},runFieldRules:function(n,e){var r;if(f.isArr(e)){var t,o=s(e);try{for(o.s();!(t=o.n()).done;){var i=t.value;if(r=i,f.isFunc(i)&&(r=i(n)),c(r))break}}catch(r){o.e(r)}finally{o.f()}}return f.isFunc(e)&&(r=e(n)),r},validateField:function(n,e){var r,t,o,i,l=b in n?null==n?void 0:n[b]:null==this||null===(r=this.schema)||void 0===r||null===(t=r.options)||void 0===t?void 0:t.activeValidation,u=(e||l)&&this.runFieldRules(this.fields[n.model],null==this||null===(o=this.schema)||void 0===o||null===(i=o.rules)||void 0===i?void 0:i[n.model]);this.setError(n.model,u)},validate:function(){for(var n in this.fields){var e;this.validateField(null===(e=this.fieldsFlat)||void 0===e?void 0:e[n],!0)}}},render:function(n){var e;var r=function e(r){return r&&f.isArr(r)?r.map((function(r){var t=r.tag,o=r.data,i=r.children;return n(t,o,e(i))})):[]}(null==this||null===(e=this.schema)||void 0===e?void 0:e.fields);return n("form",{},r)}},void 0,void 0,void 0,!1,void 0,void 0,void 0),C=function(n){C.installed||(C.installed=!0,n.component("FormGeneratorVue",j))},S={install:C},A=null;return"undefined"!=typeof window?A=window.Vue:"undefined"!=typeof global&&(A=global.Vue),A&&A.use(S),j.install=C,n.default=j,n}({});