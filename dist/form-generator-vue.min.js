var FormGeneratorVue=function(n){"use strict";function e(n){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function t(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function r(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function o(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){t(n,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))}))}return n}function i(n){return function(n){if(Array.isArray(n))return u(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||l(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(n,e){if(n){if("string"==typeof n)return u(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(n,e):void 0}}function u(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var a={isUndef:function(n){return void 0===n},isObjOnly:function(n){return a.isArr(n)?n.every((function(n){return a.isObj(n)&&!a.isArr(n)})):a.isObj(n)},isObj:function(n){return a.isArr(n)?n.every((function(n){return"object"===e(n)})):"object"===e(n)},isArr:function(n){return Array.isArray(n)},isFunc:function(n){return"function"==typeof n},isBool:function(n){return"boolean"==typeof n},isStr:function(n){return"string"==typeof n},throwError:function(n){throw new Error(n)},hasProperty:function(n,e){return a.isArr(n)?n.every((function(n){return n in e})):n in e},handleFunc:function(n,e){if(a.isFunc(n))return n(e)},handleFuncOrBool:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,t=Boolean(n);return a.isFunc(n)&&(t=n(e)),t},debounce:function(n){var e;return function(t,r){clearTimeout(e),e=setTimeout((function(){clearTimeout(e),n(r)}),t)}},logger:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.show,r=e.warn;if(t){var o,l;if(r)return void(l=console).warn.apply(l,i(n));(o=console).log.apply(o,i(n))}}},s=function(n){var e;return a.isArr(null==n?void 0:n.model)&&(null===(e=n.model)||void 0===e?void 0:e[0])||(null==n?void 0:n.model)};function c(n,e,t,r,o,i,l,u,a,s){"boolean"!=typeof l&&(a=u,u=l,l=!1);const c="function"==typeof t?t.options:t;let d;if(n&&n.render&&(c.render=n.render,c.staticRenderFns=n.staticRenderFns,c._compiled=!0,o&&(c.functional=!0)),r&&(c._scopeId=r),i?(d=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),e&&e.call(this,a(n)),n&&n._registeredComponents&&n._registeredComponents.add(i)},c._ssrRegister=d):e&&(d=l?function(n){e.call(this,s(n,this.$root.$options.shadowRoot))}:function(n){e.call(this,u(n))}),d)if(c.functional){const n=c.render;c.render=function(e,t){return d.call(t),n(e,t)}}else{const n=c.beforeCreate;c.beforeCreate=n?[].concat(n,d):[d]}return t}var d=c({},void 0,{mixins:[{props:{value:{type:Object,default:null,required:!1},schema:{type:Object,default:function(){return{}}}}}],emits:["input"],data:function(){return{models:function(n){var e={};return function n(t){(null==t?void 0:t.model)&&(e[s(t.model)]={value:"",error:""},Object.defineProperty(e[s(t.model)],"options",{value:(null==t?void 0:t.options)||{},enumerable:!1})),(null==t?void 0:t.children)&&(null==t||t.children.forEach((function(e){return n(e)})))}(n),e}(this.schema)}},watch:{value:{handler:"watchValue",deep:!0},models:{handler:"watchModels",deep:!0,immediate:!0}},created:function(){var n=this;Object.keys(this.models).forEach((function(e){n.$watch("models.".concat(e,".value"),(function(){n.validateModel(e)}),{deep:!0})}))},mounted:function(){var n,e;(null==this||null===(n=this.schema)||void 0===n||null===(e=n.options)||void 0===e?void 0:e.onLoadValidation)&&this.validate()},methods:{watchValue:function(n){for(var e in n)this.models[e].value=null==n?void 0:n[e].value,this.models[e].error=null==n?void 0:n[e].error},watchModels:function(){this.$emit("input",this.models)},resetValidation:function(){for(var n in this.models)this.models[n].error=""},reset:function(){for(var n in this.models)this.models[n].value="",this.models[n].value=""},validErr:function(n){return n&&!["boolean"].includes(e(n))||!n&&["string","boolean"].includes(e(n))},setError:function(n,e){this.models[n].error=this.validErr(e)?e:""},runModelRules:function(n,e){var t;if(a.isArr(e)){var r,o=function(n,e){var t;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(t=l(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){t=n[Symbol.iterator]()},n:function(){var n=t.next();return u=n.done,n},e:function(n){a=!0,i=n},f:function(){try{u||null==t.return||t.return()}finally{if(a)throw i}}}}(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(t=i,a.isFunc(i)&&(t=i(n)),this.validErr(t))break}}catch(t){o.e(t)}finally{o.f()}}return a.isFunc(e)&&(t=e(n)),t},validateModel:function(n,e){var t,r,o,i,l,u,a=(null===(t=this.models[n].options)||void 0===t?void 0:t.activeValidation)?null===(r=this.models[n].options)||void 0===r?void 0:r.activeValidation:null==this||null===(o=this.schema)||void 0===o||null===(i=o.options)||void 0===i?void 0:i.activeValidation,s=(e||a)&&this.runModelRules(this.models[n].value,null==this||null===(l=this.schema)||void 0===l||null===(u=l.rules)||void 0===u?void 0:u[n]);this.setError(n,s)},validate:function(){for(var n in this.models)this.validateModel(n,!0)}},render:function(n){var e,t,r,i,l,u,c,d,f,v=this;return n(null===(e=this.schema)||void 0===e?void 0:e.tag,(i=null===(t=this.schema)||void 0===t?void 0:t.data,l=this.schema,d=i,f={value:null===(u=v.models)||void 0===u||null===(c=u[s(null==l?void 0:l.model)])||void 0===c?void 0:c.value},d.domProps=o(o({},f),i.domProps),void(d.props=o(o({},f),i.props))),function e(t){return t&&a.isArr(t)?t.map((function(t){var r=t.tag,o=t.data,i=t.children;return n(r,o,e(i))})):[]}(null===(r=this.schema)||void 0===r?void 0:r.children))}},void 0,void 0,void 0,!1,void 0,void 0,void 0),f=function(n){f.installed||(f.installed=!0,n.component("FormGeneratorVue",d))},v={install:f},h=null;return"undefined"!=typeof window?h=window.Vue:"undefined"!=typeof global&&(h=global.Vue),h&&h.use(v),d.install=f,n.default=d,n}({});