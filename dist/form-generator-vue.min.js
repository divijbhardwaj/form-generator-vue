var FormGeneratorVue=function(n){"use strict";function e(n){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function t(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,o)}return t}function r(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){t(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}function i(n){return function(n){if(Array.isArray(n))return u(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||l(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(n,e){if(n){if("string"==typeof n)return u(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(n,e):void 0}}function u(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=n[t];return o}var a={props:{value:{type:Object,default:null,required:!1},schema:{type:Object,default:function(){return{}}}}},s={isUndef:function(n){return void 0===n},isObjOnly:function(n){return s.isArr(n)?n.every((function(n){return s.isObj(n)&&!s.isArr(n)})):s.isObj(n)},isObj:function(n){return s.isArr(n)?n.every((function(n){return"object"===e(n)})):"object"===e(n)},isArr:function(n){return Array.isArray(n)},isFunc:function(n){return"function"==typeof n},isBool:function(n){return"boolean"==typeof n},isStr:function(n){return"string"==typeof n},throwError:function(n){throw new Error(n)},hasProperty:function(n,e){return s.isArr(n)?n.every((function(n){return n in e})):n in e},handleFunc:function(n,e){if(s.isFunc(n))return n(e)},handleFuncOrBool:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,t=Boolean(n);return s.isFunc(n)&&(t=n(e)),t},debounce:function(n){var e;return function(t,o){clearTimeout(e),e=setTimeout((function(){clearTimeout(e),n(o)}),t)}},logger:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.show,o=e.warn;if(t){var r,l;if(o)return void(l=console).warn.apply(l,i(n));(r=console).log.apply(r,i(n))}}},c=function(n){var e;return s.isArr(null==n?void 0:n.model)&&(null===(e=n.model)||void 0===e?void 0:e[0])||(null==n?void 0:n.model)};function d(n,e,t,o,r,i,l,u,a,s){"boolean"!=typeof l&&(a=u,u=l,l=!1);const c="function"==typeof t?t.options:t;let d;if(n&&n.render&&(c.render=n.render,c.staticRenderFns=n.staticRenderFns,c._compiled=!0,r&&(c.functional=!0)),o&&(c._scopeId=o),i?(d=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),e&&e.call(this,a(n)),n&&n._registeredComponents&&n._registeredComponents.add(i)},c._ssrRegister=d):e&&(d=l?function(n){e.call(this,s(n,this.$root.$options.shadowRoot))}:function(n){e.call(this,u(n))}),d)if(c.functional){const n=c.render;c.render=function(e,t){return d.call(t),n(e,t)}}else{const n=c.beforeCreate;c.beforeCreate=n?[].concat(n,d):[d]}return t}var f=d({},void 0,{mixins:[a],emits:["input"],data:function(){return{models:function(n,e){var t={};return function n(o){var r,i;(null==o?void 0:o.model)&&(t[c(o)]={value:null==e||null===(r=e[c(o)])||void 0===r?void 0:r.value,error:null==e||null===(i=e[c(o)])||void 0===i?void 0:i.error},Object.defineProperty(t[c(o)],"options",{value:(null==o?void 0:o.options)||{},enumerable:!1}));(null==o?void 0:o.children)&&(null==o||o.children.forEach((function(e){return n(e)})))}(n),t}(this.schema,this.value)}},watch:{value:{handler:"watchValue",deep:!0},models:{handler:"watchModels",deep:!0,immediate:!0}},created:function(){var n=this;Object.keys(this.models).forEach((function(e){n.$watch("models.".concat(e,".value"),(function(){console.log("watcher"),n.validateModel(e)}),{deep:!0})}))},mounted:function(){var n,e;(null==this||null===(n=this.schema)||void 0===n||null===(e=n.options)||void 0===e?void 0:e.onLoadValidation)&&this.validate()},methods:{watchValue:function(n){for(var e in n)this.models[e].value=null==n?void 0:n[e].value,this.models[e].error=null==n?void 0:n[e].error},watchModels:function(n){this.$emit("input",n)},resetValidation:function(){for(var n in this.models)this.models[n].error=""},reset:function(){for(var n in this.models)this.models[n].value="",this.models[n].value=""},validErr:function(n){return n&&!["boolean"].includes(e(n))||!n&&["string","boolean"].includes(e(n))},setError:function(n,e){this.models[n].error=this.validErr(e)?e:""},runModelRules:function(n,e){var t;if(s.isArr(e)){var o,r=function(n,e){var t;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(t=l(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var o=0,r=function(){};return{s:r,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){t=n[Symbol.iterator]()},n:function(){var n=t.next();return u=n.done,n},e:function(n){a=!0,i=n},f:function(){try{u||null==t.return||t.return()}finally{if(a)throw i}}}}(e);try{for(r.s();!(o=r.n()).done;){var i=o.value;if(t=i,s.isFunc(i)&&(t=i(n)),this.validErr(t))break}}catch(t){r.e(t)}finally{r.f()}}return s.isFunc(e)&&(t=e(n)),t},validateModel:function(n,e){var t,o,r,i,l,u,a=(null===(t=this.models[n].options)||void 0===t?void 0:t.activeValidation)?null===(o=this.models[n].options)||void 0===o?void 0:o.activeValidation:null==this||null===(r=this.schema)||void 0===r||null===(i=r.options)||void 0===i?void 0:i.activeValidation,s=(e||a)&&this.runModelRules(this.models[n].value,null==this||null===(l=this.schema)||void 0===l||null===(u=l.rules)||void 0===u?void 0:u[n]);this.setError(n,s)},validate:function(){for(var n in this.models)this.validateModel(n,!0)}},render:function(n){var e,t,o,i=this,l=function(n,e){var t=r({},n);if(null==e?void 0:e.model){var o,l,u={value:null===(o=i.models)||void 0===o||null===(l=o[c(e)])||void 0===l?void 0:l.value},s={input:function(n){var t;i.models[c(e)].value=(null==n||null===(t=n.target)||void 0===t?void 0:t.value)||n}};t.domProps=r(r({},a),n.domProps),t.props=r(r({},u),null==n?void 0:n.props),t.on=r(r({},s),null==n?void 0:n.on)}return t};return n(null===(e=i.schema)||void 0===e?void 0:e.tag,l((null===(t=i.schema)||void 0===t?void 0:t.data)||{},i.schema),function e(t){return t&&s.isArr(t)?t.map((function(t){return n(t.tag,l((null==t?void 0:t.data)||{},t),e(t.children))})):[]}(null===(o=i.schema)||void 0===o?void 0:o.children))}},void 0,void 0,void 0,!1,void 0,void 0,void 0),v=function(n){v.installed||(v.installed=!0,n.component("FormGeneratorVue",f))},h={install:v},p=null;return"undefined"!=typeof window?p=window.Vue:"undefined"!=typeof global&&(p=global.Vue),p&&p.use(h),f.install=v,n.default=f,n}({});