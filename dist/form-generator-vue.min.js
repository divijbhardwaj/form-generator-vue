var FormGeneratorVue=function(e){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,n,o,t,r,i,l){try{var s=e[i](l),u=s.value}catch(e){return void o(e)}s.done?n(u):Promise.resolve(u).then(t,r)}function t(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function r(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.push.apply(o,t)}return o}function i(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?r(Object(o),!0).forEach((function(n){t(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))}))}return e}function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,n){if(e){if("string"==typeof e)return u(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?u(e,n):void 0}}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var o=0,t=new Array(n);o<n;o++)t[o]=e[o];return t}function a(e,n){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=s(e))||n&&e&&"number"==typeof e.length){o&&(e=o);var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,u=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return l=e.done,e},e:function(e){u=!0,i=e},f:function(){try{l||null==o.return||o.return()}finally{if(u)throw i}}}}function d(e,n,o,t,r,i,l,s,u,a){"boolean"!=typeof l&&(u=s,s=l,l=!1);const d="function"==typeof o?o.options:o;let c;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),t&&(d._scopeId=t),i?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,u(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},d._ssrRegister=c):n&&(c=l?function(e){n.call(this,a(e,this.$root.$options.shadowRoot))}:function(e){n.call(this,s(e))}),c)if(d.functional){const e=d.render;d.render=function(n,o){return c.call(o),e(n,o)}}else{const e=d.beforeCreate;d.beforeCreate=e?[].concat(e,c):[c]}return o}var c=d({render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._t("default")],2)},staticRenderFns:[]},void 0,{},void 0,!1,void 0,!1,void 0,void 0,void 0),f={isUndef:function(e){return void 0===e},isObjNotArr:function(e){return f.isArr(e)?e.every((function(e){return f.isObj(e)&&!f.isArr(e)})):f.isObj(e)},isObj:function(e){return f.isArr(e)?e.every((function(e){return"object"===n(e)})):"object"===n(e)},isArr:function(e){return Array.isArray(e)},isFunc:function(e){return"function"==typeof e},isBool:function(e){return"boolean"==typeof e},isStr:function(e){return"string"==typeof e},throwError:function(e){throw new Error(e)},hasProperty:function(e,n){return f.isArr(e)?e.every((function(e){return e in n})):e in n},handleFunc:function(e,n){if(f.isFunc(e))return e(n)},handleFuncOrBool:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=Boolean(e);return f.isFunc(e)&&(o=e(n)),o},debounce:function(e){var n;return function(o,t){clearTimeout(n),n=setTimeout((function(){clearTimeout(n),e(t)}),o)}},logger:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.show,t=n.warn;if(o){var r,i;if(t)return void(i=console).warn.apply(i,l(e));(r=console).log.apply(r,l(e))}}},v=["string","object"],m={form:"fgv-form",body:"fgv-body",row:"fgv-row",rowContainer:"fgv-row-container",colContainer:"fgv-col-container",col:"fgv-col"},p={header:"header",footer:"footer",beforeComponent:function(e){return"before-".concat(e)},afterComponent:function(e){return"after-".concat(e)},beforeRow:"before-row",rowStart:"row-start",rowEnd:"row-end",afterRow:"after-row",beforeCol:"before-col",afterCol:"after-col"},h="fields",b="fields",y="errors",S={av:"activeValidation",avDelay:"activeValidationDelay",vOn:"vOn",component:"component",type:{text:"text",number:"number"},props:{required:"required",disabled:"disabled",hidden:"hidden"},rules:"rules"},w=d({render:function(){var e=this,n=e.$createElement,o=e._self._c||n;return o(e.componentName(e.schema.form),e._g(e._b({tag:"component",class:e.classes([e.CLASS.form]),model:{value:e.form,callback:function(n){e.form=n},expression:"form"}},"component",e.componentProps(e.schema.form,{form:!0}),!1),e.componentEvents(e.schema.form,{form:!0})),[e._t(e.SLOT.header),e._v(" "),o("Body",{class:e.classes([e.CLASS.body])},[e._l(e.schema.fields,(function(n,t){return[e.showRow(n)?o("RowContainer",{key:t,class:e.classes([e.CLASS.rowContainer,e.CLASS.rowContainer+"-"+(t+1)])},[e._t(e.SLOT.beforeRow,null,{models:e.slotProps(n)}),e._v(" "),o("Row",{class:e.classes([e.CLASS.row,e.CLASS.row+"-"+(t+1)])},[e._t(e.SLOT.rowStart,null,{models:e.slotProps(n)}),e._v(" "),e.UTILS.isArr(n)?e._l(n,(function(n){return[e.showCol(n)?o("ColumnContainer",{key:n.model,class:e.classes([e.CLASS.colContainer,e.CLASS.colContainer+"-"+n.model])},[e._t(e.SLOT.beforeCol,null,{models:e.slotProps(n)}),e._v(" "),o("Column",{class:e.classes([e.CLASS.col,e.CLASS.col+"-"+n.model,n.model])},[e._t(e.SLOT.beforeComponent(n.model)),e._v(" "),o(e.componentName(n),e._g(e._b({tag:"component",model:{value:e.fields[n.model],callback:function(o){e.$set(e.fields,n.model,o)},expression:"fields[subConf.model]"}},"component",e.componentProps(n,{field:!0}),!1),e.componentEvents(n)),[e._t(n.model)],2),e._v(" "),e._t(e.SLOT.afterComponent(n.model))],2),e._v(" "),e._t(e.SLOT.afterCol,null,{models:e.slotProps(n)})],2):e._e()]})):[e.showCol(n)?o("ColumnContainer",{key:n.model,class:e.classes([e.CLASS.colContainer,e.CLASS.colContainer+"-"+n.model])},[e._t(e.SLOT.beforeCol,null,{models:e.slotProps(n)}),e._v(" "),o("Column",{class:e.classes([e.CLASS.col,e.CLASS.col+"-"+n.model,n.model])},[e._t(e.SLOT.beforeComponent(n.model)),e._v(" "),o(e.componentName(n),e._g(e._b({tag:"component",model:{value:e.fields[n.model],callback:function(o){e.$set(e.fields,n.model,o)},expression:"fields[conf.model]"}},"component",e.componentProps(n,{field:!0}),!1),e.componentEvents(n)),[e._t(n.model)],2),e._v(" "),e._t(e.SLOT.afterComponent(n.model))],2),e._v(" "),e._t(e.SLOT.afterCol,null,{models:e.slotProps(n)})],2):e._e()],e._v(" "),e._t(e.SLOT.rowEnd,null,{models:e.slotProps(n)})],2),e._v(" "),e._t(e.SLOT.afterRow,null,{models:e.slotProps(n)})],2):e._e()]}))],2),e._v(" "),e._t(e.SLOT.footer)],2)},staticRenderFns:[]},void 0,{components:{Body:c,RowContainer:c,Row:c,ColumnContainer:c,Column:c},mixins:[{props:{value:{type:Object,default:null,required:!1},submit:{type:Function,required:!1,default:void 0},components:{type:Array,required:!1,default:function(){return[]}},schema:{type:Object,default:function(){return{}}},submitFail:{type:Function,required:!1,default:void 0}}}],emits:["input"],data:function(){var e,n,o=this,t=null===(e=this.value)||void 0===e?void 0:e.form,r={},i={},l=function(e){var n,t,l,s;r[e]=(null===(n=o.value)||void 0===n||null===(t=n[b])||void 0===t?void 0:t[e])||"",i[e]=(null===(l=o.value)||void 0===l||null===(s=l[y])||void 0===s?void 0:s[e])||""},s=a(this.schema[h]);try{for(s.s();!(n=s.n()).done;){var u=n.value;if(f.isArr(u)){var d,c=a(u);try{for(c.s();!(d=c.n()).done;){l(d.value.model)}}catch(e){c.e(e)}finally{c.f()}}else l(u.model)}}catch(e){s.e(e)}finally{s.f()}return{form:t,fields:r,errors:i}},computed:{SLOT:function(){return p},CLASS:function(){return m},UTILS:function(){return f},fieldsFlat:function(){var e,n={},o=a(this.schema[h]);try{for(o.s();!(e=o.n()).done;){var t=e.value;if(f.isArr(t)){var r,i=a(t);try{for(i.s();!(r=i.n()).done;){var l=r.value;n[l.model]=l}}catch(e){i.e(e)}finally{i.f()}}else n[t.model]=t}}catch(e){o.e(e)}finally{o.f()}return n}},watch:{value:{handler:function(){for(var e in null===(n=this.value)||void 0===n?void 0:n[b]){var n,o,t,r,i;this.fields[e]=null===(o=this.value)||void 0===o||null===(t=o[b])||void 0===t?void 0:t[e],this.errors[e]=null===(r=this.value)||void 0===r||null===(i=r[y])||void 0===i?void 0:i[e]}},deep:!0},form:{handler:"emitData",deep:!0,immediate:!0},fields:{handler:"emitData",deep:!0,immediate:!0},errors:{handler:"emitData",deep:!0,immediate:!0}},created:function(){var e=this,o=function(o){var t=e.getFieldConf(o);e.$watch("fields.".concat(o),(function(o,r){e.typeCoercion(t),o==r&&n(o)!==n(r)||e.validateField(t)}),{deep:!0})};for(var t in this.fields)o(t)},mounted:function(){var e,n;(null==this||null===(e=this.schema)||void 0===e||null===(n=e.options)||void 0===n?void 0:n.onLoadValidation)&&this.validateForm()},methods:{classes:function(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.reduce((function(e,o){var t,r;if(null==n||null===(t=n.schema)||void 0===t||null===(r=t.class)||void 0===r?void 0:r[o]){e.push.apply(e,l(n.schema.class[o]));var i=n.schema.class[o].filter((function(e){var o;return Object.keys(null==n||null===(o=n.schema)||void 0===o?void 0:o.class).includes(e)}));i.length&&e.push.apply(e,l(n.classes(i,!0)))}return e}),o?[]:l(e))},emitData:function(){var e;this.$emit("input",(t(e={form:this.form},b,this.fields),t(e,y,this.errors),e))},showRow:function(e){var n=this;return f.isArr(e)?e.length&&e.some((function(e){return n.showCol(e)})):this.showCol(e)},showCol:function(e){return this.componentName(e)&&!this.fieldHidden(e)},slotProps:function(e){return f.isArr(e)?e.map((function(e){return e.model})):[e.model]},componentProps:function(e){var n,o,t,r,l,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=s.form,a=s.field,d=this.componentData(this.componentName(e)),c=i(i({},null==e?void 0:e.props),{},{disabled:(null===(n=this.schema)||void 0===n||null===(o=n.form)||void 0===o||null===(t=o.props)||void 0===t?void 0:t.disabled)||(null==e?void 0:e.disabled)});u&&(c.is=(null==e||null===(r=e.props)||void 0===r?void 0:r.is)||"form");a&&((null==d?void 0:d.errorProp)&&(c[d.errorProp]=this.errors[e.model]),c.type=(null==e||null===(l=e.props)||void 0===l?void 0:l.type)||S.type.text);return c},setError:function(e,o){this.errors[e]=v.includes(n(o))?o:""},componentData:function(e){return this.components.find((function(n){return(null==n?void 0:n.name)===e}))},typeCoercion:function(e){var n;if(this.fields[e.model]&&(null==e||null===(n=e.props)||void 0===n?void 0:n.type)===S.type.number){if(!Number.isNaN(this.fields[e.model]))return;this.fields[e.model]=Number(this.fields[e.model])}},componentEvents:function(e){var n,o=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.form,i=(null==e?void 0:e[S.on])||{};r&&(i.submit=(null==e||null===(n=e.on)||void 0===n?void 0:n.submit)||this.submit&&this.handleSubmit||function(e){var n,t;null==e||e.preventDefault(),f.logger(["submit handler not present.\n"],{warn:!0,show:null==o||null===(n=o.schema)||void 0===n||null===(t=n.options)||void 0===t?void 0:t.logs})});return i},componentName:function(e){var n,o;if(null==e||null===(n=e.props)||void 0===n?void 0:n.is)return null==e||null===(o=e.props)||void 0===o?void 0:o.is;var t=this.components.find((function(n){var o;return n.types.includes(null==e||null===(o=e.props)||void 0===o?void 0:o.type)}));return null==t?void 0:t.name},getFieldConf:function(e){return this.fieldsFlat[e]},fieldHidden:function(e){var n;return!(!(null==e?void 0:e.props)||!(S.props.hidden in e.props))&&Boolean(null===(n=e.props)||void 0===n?void 0:n[S.props.hidden])},runFieldRules:function(e,o){var t;if(f.isArr(o)){var r,i=a(o);try{for(i.s();!(r=i.n()).done;){var l=r.value;if(t=l,f.isFunc(l)&&(t=l(e)),v.includes(n(t)))break}}catch(t){i.e(t)}finally{i.f()}}return f.isFunc(o)&&(t=o(e)),t},validateField:function(e,n){var o,t,r,i,l=S.av in e?null==e?void 0:e[S.av]:null==this||null===(o=this.schema)||void 0===o||null===(t=o.options)||void 0===t?void 0:t.activeValidation,s=(n||l)&&this.runFieldRules(this.fields[e.model],null==this||null===(r=this.schema)||void 0===r||null===(i=r.rules)||void 0===i?void 0:i[e.model]);this.setError(e.model,s)},validateForm:function(){var e={};for(var n in this.fields){var o=this.fieldsFlat[n];this.validateField(o,!0),e[o.model]={validationSuccess:!this.errors[n],hidden:this.fieldHidden(o),schema:o}}var t=Object.keys(e).find((function(n){return!e[n].validationSuccess&&!e[n].hidden}));return{fieldsStatus:e,submitFail:t}},handleSubmit:function(e){var n,t=this;return(n=regeneratorRuntime.mark((function n(){var o,r,i,l,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==e||e.preventDefault(),i=t.validateForm(),l=i.fieldsStatus,s=i.submitFail,f.logger(["[SUBMIT ".concat(s?"FAIL":"SUCCESS","]"),l],{show:null==t||null===(o=t.schema)||void 0===o||null===(r=o.options)||void 0===r?void 0:r.logs}),!s){n.next=8;break}if(!t.submitFail){n.next=7;break}return n.next=7,t.submitFail();case 7:return n.abrupt("return");case 8:return n.next=10,t.submit();case 10:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var l=n.apply(e,t);function s(e){o(l,r,i,s,u,"next",e)}function u(e){o(l,r,i,s,u,"throw",e)}s(void 0)}))})()}}},void 0,!1,void 0,!1,void 0,void 0,void 0),C=function(e){C.installed||(C.installed=!0,e.component("FormGeneratorVue",w))},_={install:C},g=null;return"undefined"!=typeof window?g=window.Vue:"undefined"!=typeof global&&(g=global.Vue),g&&g.use(_),w.install=C,e.default=w,e}({});