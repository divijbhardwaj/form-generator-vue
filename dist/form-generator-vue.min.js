var FormGeneratorVue=function(n){"use strict";function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function e(n){return function(n){if(Array.isArray(n))return r(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||o(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(n,t){if(n){if("string"==typeof n)return r(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(n,t):void 0}}function r(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=n[e];return o}var i={isUndef:function(n){return void 0===n},isObjOnly:function(n){return i.isArr(n)?n.every((function(n){return i.isObj(n)&&!i.isArr(n)})):i.isObj(n)},isObj:function(n){return i.isArr(n)?n.every((function(n){return"object"===t(n)})):"object"===t(n)},isArr:function(n){return Array.isArray(n)},isFunc:function(n){return"function"==typeof n},isBool:function(n){return"boolean"==typeof n},isStr:function(n){return"string"==typeof n},throwError:function(n){throw new Error(n)},hasProperty:function(n,t){return i.isArr(n)?n.every((function(n){return n in t})):n in t},handleFunc:function(n,t){if(i.isFunc(n))return n(t)},handleFuncOrBool:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,e=Boolean(n);return i.isFunc(n)&&(e=n(t)),e},debounce:function(n){var t;return function(e,o){clearTimeout(t),t=setTimeout((function(){clearTimeout(t),n(o)}),e)}},logger:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.show,r=t.warn;if(o){var i,l;if(r)return void(l=console).warn.apply(l,e(n));(i=console).log.apply(i,e(n))}}};function l(n,t,e,o,r,i,l,u,a,s){"boolean"!=typeof l&&(a=u,u=l,l=!1);const d="function"==typeof e?e.options:e;let c;if(n&&n.render&&(d.render=n.render,d.staticRenderFns=n.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),o&&(d._scopeId=o),i?(c=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),t&&t.call(this,a(n)),n&&n._registeredComponents&&n._registeredComponents.add(i)},d._ssrRegister=c):t&&(c=l?function(n){t.call(this,s(n,this.$root.$options.shadowRoot))}:function(n){t.call(this,u(n))}),c)if(d.functional){const n=d.render;d.render=function(t,e){return c.call(e),n(t,e)}}else{const n=d.beforeCreate;d.beforeCreate=n?[].concat(n,c):[c]}return e}var u=l({},void 0,{mixins:[{props:{value:{type:Object,default:null,required:!1},schema:{type:Object,default:function(){return{}}}}}],emits:["input"],data:function(){return{models:function(n){var t={};return function n(e){var o,r;(null==e?void 0:e.model)&&(t[i.isArr(e.model)&&(null===(o=e.model)||void 0===o?void 0:o[0])||e.model]={value:"",error:""},Object.defineProperty(t[i.isArr(e.model)&&(null===(r=e.model)||void 0===r?void 0:r[0])||e.model],"options",{value:(null==e?void 0:e.options)||{},enumerable:!1}));(null==e?void 0:e.children)&&(null==e||e.children.forEach((function(t){return n(t)})))}(n),t}(this.schema)}},watch:{value:{handler:"watchValue",deep:!0},models:{handler:"watchModels",deep:!0,immediate:!0}},created:function(){var n=this;Object.keys(this.models).forEach((function(t){n.$watch("models.".concat(t,".value"),(function(){n.validateModel(t)}),{deep:!0})}))},mounted:function(){var n,t;(null==this||null===(n=this.schema)||void 0===n||null===(t=n.options)||void 0===t?void 0:t.onLoadValidation)&&this.validate()},methods:{watchValue:function(n){for(var t in n)this.models[t].value=null==n?void 0:n[t].value,this.models[t].error=null==n?void 0:n[t].error},watchModels:function(){this.$emit("input",this.models)},resetValidation:function(){for(var n in this.models)this.models[n].error=""},reset:function(){for(var n in this.models)this.models[n].value="",this.models[n].value=""},validErr:function(n){return n&&!["boolean"].includes(t(n))||!n&&["string","boolean"].includes(t(n))},setError:function(n,t){this.models[n].error=this.validErr(t)?t:""},runModelRules:function(n,t){var e;if(i.isArr(t)){var r,l=function(n,t){var e;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=o(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,u=!0,a=!1;return{s:function(){e=n[Symbol.iterator]()},n:function(){var n=e.next();return u=n.done,n},e:function(n){a=!0,l=n},f:function(){try{u||null==e.return||e.return()}finally{if(a)throw l}}}}(t);try{for(l.s();!(r=l.n()).done;){var u=r.value;if(e=u,i.isFunc(u)&&(e=u(n)),this.validErr(e))break}}catch(e){l.e(e)}finally{l.f()}}return i.isFunc(t)&&(e=t(n)),e},validateModel:function(n,t){var e,o,r,i,l,u,a=(null===(e=this.models[n].options)||void 0===e?void 0:e.activeValidation)?null===(o=this.models[n].options)||void 0===o?void 0:o.activeValidation:null==this||null===(r=this.schema)||void 0===r||null===(i=r.options)||void 0===i?void 0:i.activeValidation,s=(t||a)&&this.runModelRules(this.models[n].value,null==this||null===(l=this.schema)||void 0===l||null===(u=l.rules)||void 0===u?void 0:u[n]);this.setError(n,s)},validate:function(){for(var n in this.models)this.validateModel(n,!0)}},render:function(n){var t=this.schema,e=t.tag,o=t.data,r=t.children;return n(e,o,function t(e){return e&&i.isArr(e)?e.map((function(e){var o=e.tag,r=e.data,i=e.children;return n(o,r,t(i))})):[]}(r))}},void 0,void 0,void 0,!1,void 0,void 0,void 0),a=function(n){a.installed||(a.installed=!0,n.component("FormGeneratorVue",u))},s={install:a},d=null;return"undefined"!=typeof window?d=window.Vue:"undefined"!=typeof global&&(d=global.Vue),d&&d.use(s),u.install=a,n.default=u,n}({});